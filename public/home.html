<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <script src="MakeRandomBoard.js"></script>
    <title>settlers of catan</title>
    <script>
      const makeRoad = () => {
        const road = event.target;
        console.log(road.classList);
        road.classList.add('afterRoad');
        const img = `<image href='./imgs/roads/blueRoad.svg' style="height:100%; width:100%;">`;
        road.innerHTML = img;
      };

      const showRoadPoints = correspondingRoads => {
        document.querySelector('.allRoads').classList.remove('hide');
        correspondingRoads.forEach(road => {
          document.getElementById(road).classList.remove('hide');
        });
      };

      const addSettlement = function() {
        const settlement = event.target;

        settlement.classList.remove('point');
        settlement.classList.add('afterSettlement');
        const img = `<image href='./imgs/settlements/blueSetelment.svg' style="height:100%; width:100%;">`;
        settlement.innerHTML = img;

        const points = Array.from(document.querySelectorAll('.point'));

        points.forEach(point => {
          point.classList.add('hide');
        });
        showRoadPoints(['j1-jk', 'ij-j1']);
      };

      const hideAndAddEventRoads = className => {
        const roads = Array.from(document.querySelectorAll(className));

        roads.forEach(road => {
          road.classList.add('hide');
          road.onclick = makeRoad;
        });
      };

      const main = function() {
        const resources = getRandomResources();
        const points = Array.from(document.querySelectorAll('.point'));
        const terrains = Array.from(document.getElementsByClassName('terrain'));
        terrains.forEach(terrain => {
          let html = `<image
              class="terrain-image"
              xlink:href='./imgs/jpgs/${resources.pop()}.jpg' count="7"/>
              <circle cx="50" cy="50" r="17" fill="burlywood" opacity="0.7"/>
              <text x="50%" y="50%"  class="numberToken" >12</text>`;
          terrain.innerHTML += html;
        });

        document.querySelector('.allRoads').classList.add('hide');

        hideAndAddEventRoads('.road');
        hideAndAddEventRoads('.right-top-tilted-road');
        hideAndAddEventRoads('.right-down-tilted-road');
        hideAndAddEventRoads('.left-top-tilted-road');
        hideAndAddEventRoads('.left-down-tilted-road');

        points.forEach(point => (point.onclick = addSettlement));
      };
      window.onload = main;
    </script>
  </head>

  <body>
    <div id="container">
      <div id="gameArea">
        <div id="board">
          <g id="display">
            <svg id="boardBorder">
              <image
                class="background-image"
                xlink:href="./imgs/jpgs/background.jpg"
              />
              <polyline
                class="hexagon"
                points="180,0 540,0 720,300 540,600 180,600 0,300"
              />
            </svg>
            <div id="rows">
              <g class="row">
                <svg class="terrain" count="7" id="k">
                  <polyline
                    id="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="j">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="i">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
              </g>
              <g class="row">
                <svg class="terrain" id="l">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="r">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="q">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="h">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
              </g>
              <g class="row">
                <svg class="terrain" id="a">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="m">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="s">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="p">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="g">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
              </g>
              <g class="row">
                <svg class="terrain" id="b">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="n">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="o">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="f">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
              </g>
              <g class="row">
                <svg class="terrain" id="c">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="d">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
                <svg class="terrain" id="e">
                  <polyline
                    class="hexagon"
                    points="50,0 100,30 100,90 50,120 0,90 0,30 50,0"
                  />
                </svg>
              </g>
            </div>
          </g>
          <g class="allIntersections">
            <g class="pointBlock" width="31" style="width: 31%;">
              <svg class="point" id="k1"></svg>
              <svg class="point" id="j1"></svg>
              <svg class="point" id="i2"></svg>
            </g>
            <g class="pointBlock" style="width: 45%; padding-bottom: 4.5%;">
              <svg class="point" id="j2"></svg>
              <svg class="point" id="jk"></svg>
              <svg class="point" id="ij"></svg>
              <svg class="point" id="i1"></svg>
            </g>
            <g class="pointBlock" style="width: 46%;">
              <svg class="point" id="kl"></svg>
              <svg class="point" id="jkr"></svg>
              <svg class="point" id="ijq"></svg>
              <svg class="point" id="hi"></svg>
            </g>
            <g class="pointBlock" style="width: 59.4%; padding-bottom: 4.5%;">
              <svg class="point" id="l1"></svg>
              <svg class="point" id="klr"></svg>
              <svg class="point" id="jqr"></svg>
              <svg class="point" id="hiq"></svg>
              <svg class="point" id="h1"></svg>
            </g>
            <g class="pointBlock" style="width: 59.4%;">
              <svg class="point" id="al"></svg>
              <svg class="point" id="lmr"></svg>
              <svg class="point" id="qrs"></svg>
              <svg class="point" id="hpq"></svg>
              <svg class="point" id="gh"></svg>
            </g>
            <g class="pointBlock" style="width: 73.6%; padding-bottom: 4.5%;">
              <svg class="point" id="a1"></svg>
              <svg class="point" id="alm"></svg>
              <svg class="point" id="mrs"></svg>
              <svg class="point" id="pqs"></svg>
              <svg class="point" id="ghp"></svg>
              <svg class="point" id="g2"></svg>
            </g>
            <g class="pointBlock" style="width: 73.6%;">
              <svg class="point" id="a2"></svg>
              <svg class="point" id="abm"></svg>
              <svg class="point" id="mns"></svg>
              <svg class="point" id="ops"></svg>
              <svg class="point" id="fgp"></svg>
              <svg class="point" id="g1"></svg>
            </g>
            <g class="pointBlock" style="width: 59.4%; padding-bottom: 4.5%;">
              <svg class="point" id="ab"></svg>
              <svg class="point" id="bmn"></svg>
              <svg class="point" id="nos"></svg>
              <svg class="point" id="fop"></svg>
              <svg class="point" id="fg"></svg>
            </g>
            <g class="pointBlock" style="width: 59.4%;">
              <svg class="point" id="b1"></svg>
              <svg class="point" id="bcn"></svg>
              <svg class="point" id="dno"></svg>
              <svg class="point" id="efo"></svg>
              <svg class="point" id="f1"></svg>
            </g>
            <g class="pointBlock" style="width: 46%; padding-bottom: 4.5%;">
              <svg class="point" id="bc"></svg>
              <svg class="point" id="cdn"></svg>
              <svg class="point" id="deo"></svg>
              <svg class="point" id="ef"></svg>
            </g>
            <g class="pointBlock" style="width: 45%;">
              <svg class="point" id="c1"></svg>
              <svg class="point" id="cd"></svg>
              <svg class="point" id="de"></svg>
              <svg class="point" id="e2"></svg>
            </g>
            <g class="pointBlock" style="width: 31%;">
              <svg class="point" id="c2"></svg>
              <svg class="point" id="d1"></svg>
              <svg class="point" id="e1"></svg>
            </g>
          </g>
          <g class="allRoads">
            <g class="tiltedRoads" style="width: 42%; height: 1.5%;">
              <svg class="right-top-tilted-road" id="k1-k2"></svg>
              <svg class="left-top-tilted-road" id="jk-k1"></svg>
              <svg class="right-top-tilted-road" id="j1-jk"></svg>
              <svg class="left-top-tilted-road" id="ij-j1"></svg>
              <svg class="right-top-tilted-road" id="i2-ij"></svg>
              <svg class="left-top-tilted-road" id="i1-i2"></svg>
            </g>
            <g class="straightRoads" style="width: 56.5%; height: 1.5%;">
              <svg class="road" id="k2-kl"></svg>
              <svg class="road" id="jk-jkr"></svg>
              <svg class="road" id="ij-ijq"></svg>
              <svg class="road" id="hi-i1"></svg>
            </g>
            <g class="tiltedRoads" style="width: 56.5%; height: 1.5%;">
              <svg class="right-top-tilted-road" id="kl-l1"></svg>
              <svg class="left-top-tilted-road" id="kl-klr"></svg>
              <svg class="right-top-tilted-road" id="jkr-klr"></svg>
              <svg class="left-top-tilted-road" id="jkr-jqr"></svg>
              <svg class="right-top-tilted-road" id="ijq-jqr"></svg>
              <svg class="left-top-tilted-road" id="hiq-ijq"></svg>
              <svg class="right-top-tilted-road" id="hi-hiq"></svg>
              <svg class="left-top-tilted-road" id="h1-hi"></svg>
            </g>
            <g class="straightRoads" style="width: 71%; height: 1.5%;">
              <svg class="road" id="al-l1"></svg>
              <svg class="road" id="klr-lmr"></svg>
              <svg class="road" id="jqr-qrs"></svg>
              <svg class="road" id="hiq-hpq"></svg>
              <svg class="road" id="gh-h1"></svg>
            </g>
            <g class="tiltedRoads" style="width: 71%; height: 1.5%;">
              <svg class="right-top-tilted-road" id="a1-al"></svg>
              <svg class="left-top-tilted-road" id="al-alm"></svg>
              <svg class="right-top-tilted-road" id="alm-lmr"></svg>
              <svg class="left-top-tilted-road" id="lmr-mrs"></svg>
              <svg class="right-top-tilted-road" id="mrs-qrs"></svg>
              <svg class="left-top-tilted-road" id="pqs-qrs"></svg>
              <svg class="right-top-tilted-road" id="hpq-pqs"></svg>
              <svg class="left-top-tilted-road" id="ghp-hpq"></svg>
              <svg class="right-top-tilted-road" id="gh-ghp"></svg>
              <svg class="left-top-tilted-road" id="g2-gh"></svg>
            </g>
            <g class="straightRoads" style="width: 85.5%; height: 1.5%;">
              <svg class="road" id="a1-a2"></svg>
              <svg class="road" id="abm-alm"></svg>
              <svg class="road" id="mns-mrs"></svg>
              <svg class="road" id="ops-pqs"></svg>
              <svg class="road" id="fgp-ghp"></svg>
              <svg class="road" id="g1-g2"></svg>
            </g>
            <g class="tiltedRoads" style="width: 71%; height: 1.5%;">
              <svg class="left-down-tilted-road" id="a2-ab"></svg>
              <svg class="right-down-tilted-road" id="ab-abm"></svg>
              <svg class="left-down-tilted-road" id="abm-bmn"></svg>
              <svg class="right-down-tilted-road" id="bmn-mns"></svg>
              <svg class="left-down-tilted-road" id="mns-nos"></svg>
              <svg class="right-down-tilted-road" id="nos-ops"></svg>
              <svg class="left-down-tilted-road" id="fop-ops"></svg>
              <svg class="right-down-tilted-road" id="fgp-fop"></svg>
              <svg class="left-down-tilted-road" id="fg-fgp"></svg>
              <svg class="right-down-tilted-road" id="fg-g1"></svg>
            </g>
            <g class="straightRoads" style="width: 71%; height: 1.5%;">
              <svg class="road" id="ab-b1"></svg>
              <svg class="road" id="bcn-bmn"></svg>
              <svg class="road" id="dno-nos"></svg>
              <svg class="road" id="efo-fop"></svg>
              <svg class="road" id="f1-fg"></svg>
            </g>
            <g class="tiltedRoads" style="width: 56.5%; height: 1.5%;">
              <svg class="left-down-tilted-road" id="bc-bcn"></svg>
              <svg class="right-down-tilted-road" id="b1-bc"></svg>
              <svg class="left-down-tilted-road" id="cdn-dno"></svg>
              <svg class="right-down-tilted-road" id="bcn-cdn"></svg>
              <svg class="left-down-tilted-road" id="deo-efo"></svg>
              <svg class="right-down-tilted-road" id="deo-dno"></svg>
              <svg class="left-down-tilted-road" id="ef-f1"></svg>
              <svg class="right-down-tilted-road" id="ef-efo"></svg>
            </g>
            <g class="straightRoads" style="width: 56.5%; height: 1.5%;">
              <svg class="road" id="bc-c1"></svg>
              <svg class="road" id="cd-cdn"></svg>
              <svg class="road" id="de-deo"></svg>
              <svg class="road" id="e2-ef"></svg>
            </g>
            <g class="tiltedRoads" style="width: 42%; height: 1.5%;">
              <svg class="left-down-tilted-road" id="c2-cd"></svg>
              <svg class="right-down-tilted-road" id="c1-c2"></svg>
              <svg class="left-down-tilted-road" id="d1-de"></svg>
              <svg class="right-down-tilted-road" id="d1-cd"></svg>
              <svg class="left-down-tilted-road" id="e1-e2"></svg>
              <svg class="right-down-tilted-road" id="de-e1"></svg>
            </g>
          </g>
          <div style="height:100%; width:28%;display:flex;margin-left:72%">
            <div id="turn-details">
              <button id="current-turn">Your's Turn</button>
            </div>
            <div id="turn-box">
              <div id="dice-box">
                <div id="dice1"></div>
                <div id="dice2"></div>
              </div>
              <button id="roll-dice">Roll The Dice</button>
            </div>
          </div>
        </div>
        <div id="interactions">
          <div id="playerCards">
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
          </div>
          <div id="actions">
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
            <div class="unit"></div>
          </div>
        </div>
      </div>
      <div id="otherPlayers">
        <div id="game-Log"></div>
        <div id="bank-resources">
          <img src="./imgs/bank.svg" alt="Bank" class="bank" />
          <div class="bank-resource" id="brick"></div>
          <div class="bank-resource" id="crop"></div>
          <div class="bank-resource" id="lumber"></div>
          <div class="bank-resource" id="ore"></div>
          <div class="bank-resource" id="wool"></div>
          <div class="bank-resource" id="dev"></div>
        </div>
        <div id="player-info1">
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/star.png"
                alt="star"
                height="40px"
                width="40px"
              />
            </div>
            <div id="points" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/knight.png"
                alt="knight"
                height="40px"
                width="40px"
              />
            </div>
            <div id="knight-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/longestRoad.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="longest-road" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/settlement.png"
                alt="settlement"
                height="40px"
                width="40px"
              />
            </div>
            <div id="settlements-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/road.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="road-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/city.png"
                alt="city"
                height="40px"
                width="40px"
              />
            </div>
            <div id="city-count" class="count">0</div>
          </div>
        </div>
        <div id="player-info2">
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/star.png"
                alt="star"
                height="40px"
                width="40px"
              />
            </div>
            <div id="points" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/knight.png"
                alt="knight"
                height="40px"
                width="40px"
              />
            </div>
            <div id="knight-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/longestRoad.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="longest-road" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/settlement.png"
                alt="settlement"
                height="40px"
                width="40px"
              />
            </div>
            <div id="settlements-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/road.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="road-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/city.png"
                alt="city"
                height="40px"
                width="40px"
              />
            </div>
            <div id="city-count" class="count">0</div>
          </div>
        </div>
        <div id="player-info3">
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/star.png"
                alt="star"
                height="40px"
                width="40px"
              />
            </div>
            <div id="points" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/knight.png"
                alt="knight"
                height="40px"
                width="40px"
              />
            </div>
            <div id="knight-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/longestRoad.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="longest-road" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/settlement.png"
                alt="settlement"
                height="40px"
                width="40px"
              />
            </div>
            <div id="settlements-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/road.png"
                alt="road"
                height="40px"
                width="40px"
              />
            </div>
            <div id="road-count" class="count">0</div>
          </div>
          <div class="component">
            <div>
              <img
                src="./imgs/statusSigns/city.png"
                alt="city"
                height="40px"
                width="40px"
              />
            </div>
            <div id="city-count" class="count">0</div>
          </div>
        </div>
        <div id="current-player"></div>
      </div>
    </div>
  </body>
</html>
